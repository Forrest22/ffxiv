{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{RhdN:function(e,t,n){\"use strict\";n.r(t);var a=n(\"nKUr\"),c=n(\"q1tI\"),i=n.n(c),r=n(\"ofer\"),s=n(\"npa3\");function o(e){return e>9?e:\"0\"+e}function l(e){return\"\".concat(o(e.getUTCHours()),\":\").concat(o(e.getUTCMinutes()))}var d,h=n(\"nOHt\"),b=n(\"R/WZ\"),j=n(\"TSYQ\"),u=n.n(j),g=n(\"hVDd\"),m=n(\"cpVT\"),p=\"eureka\",O=\"gyrAbania\",x=\"ishgardAndSurroundingAreas\",f=\"laNoscea\",w=\"norvrandt\",v=\"others\",C=\"thanalan\",y=\"theBlackShroud\",k=\"theFarEast\",T=n(\"9U9F\"),N=(d={},Object(m.a)(d,p,[T.k,T.m,T.n,T.l]),Object(m.a)(d,O,[T.D,T.O,T.S,T.R]),Object(m.a)(d,x,[T.r,T.e,T.f,T.V,T.b,T.p,T.M,T.N,T.J]),Object(m.a)(d,f,[T.v,T.x,T.w,T.g,T.Z,T.Y,T.C,T.bb]),Object(m.a)(d,w,[T.K,T.j,T.u,T.s,T.a,T.q,T.T,T.W]),Object(m.a)(d,v,[T.z,T.y,T.Q,T.P,T.E,T.L,T.I]),Object(m.a)(d,C,[T.X,T.ab,T.d,T.h,T.F,T.A]),Object(m.a)(d,y,[T.o,T.c,T.i,T.G,T.B]),Object(m.a)(d,k,[T.t,T.U,T.cb,T.H]),d),E=[f,y,C,x,O,k,w,p,v].map((function(e){return{regionId:e,query:e.replace(/[A-Z]/g,(function(e){return\"_\".concat(e.toLowerCase())})),zones:N[e]}})),I=n(\"SIQL\"),S=n(\"Bf0q\"),z=n(\"tRbT\"),A=n(\"ADg1\"),D=n(\"ZGBi\"),R=n(\"1AYd\"),F=n(\"VmPI\"),L=n(\"cVXz\"),_=n(\"Ff2n\"),B=n(\"rePB\"),H=n(\"wx14\"),q=(n(\"17x9\"),n(\"iuhU\")),G=n(\"H2TA\"),V=n(\"VD++\"),M=n(\"ucBr\"),P=n(\"bfFb\"),U=n(\"MquD\"),W=n(\"i8i4\"),Z=\"undefined\"===typeof window?c.useEffect:c.useLayoutEffect,$=c.forwardRef((function(e,t){var n=e.alignItems,a=void 0===n?\"center\":n,i=e.autoFocus,r=void 0!==i&&i,s=e.button,o=void 0!==s&&s,l=e.children,d=e.classes,h=e.className,b=e.component,j=e.ContainerComponent,u=void 0===j?\"li\":j,g=e.ContainerProps,m=(g=void 0===g?{}:g).className,p=Object(_.a)(g,[\"className\"]),O=e.dense,x=void 0!==O&&O,f=e.disabled,w=void 0!==f&&f,v=e.disableGutters,C=void 0!==v&&v,y=e.divider,k=void 0!==y&&y,T=e.focusVisibleClassName,N=e.selected,E=void 0!==N&&N,I=Object(_.a)(e,[\"alignItems\",\"autoFocus\",\"button\",\"children\",\"classes\",\"className\",\"component\",\"ContainerComponent\",\"ContainerProps\",\"dense\",\"disabled\",\"disableGutters\",\"divider\",\"focusVisibleClassName\",\"selected\"]),S=c.useContext(U.a),z={dense:x||S.dense||!1,alignItems:a},A=c.useRef(null);Z((function(){r&&A.current&&A.current.focus()}),[r]);var D=c.Children.toArray(l),R=D.length&&Object(M.a)(D[D.length-1],[\"ListItemSecondaryAction\"]),F=c.useCallback((function(e){A.current=W.findDOMNode(e)}),[]),L=Object(P.a)(F,t),B=Object(H.a)({className:Object(q.a)(d.root,h,z.dense&&d.dense,!C&&d.gutters,k&&d.divider,w&&d.disabled,o&&d.button,\"center\"!==a&&d.alignItemsFlexStart,R&&d.secondaryAction,E&&d.selected),disabled:w},I),G=b||\"li\";return o&&(B.component=b||\"div\",B.focusVisibleClassName=Object(q.a)(d.focusVisible,T),G=V.a),R?(G=B.component||b?G:\"div\",\"li\"===u&&(\"li\"===G?G=\"div\":\"li\"===B.component&&(B.component=\"div\")),c.createElement(U.a.Provider,{value:z},c.createElement(u,Object(H.a)({className:Object(q.a)(d.container,m),ref:L},p),c.createElement(G,B,D),D.pop()))):c.createElement(U.a.Provider,{value:z},c.createElement(G,Object(H.a)({ref:L},B),D))})),J=Object(G.a)((function(e){return{root:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",position:\"relative\",textDecoration:\"none\",width:\"100%\",boxSizing:\"border-box\",textAlign:\"left\",paddingTop:8,paddingBottom:8,\"&$focusVisible\":{backgroundColor:e.palette.action.selected},\"&$selected, &$selected:hover\":{backgroundColor:e.palette.action.selected},\"&$disabled\":{opacity:.5}},container:{position:\"relative\"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:\"flex-start\"},disabled:{},divider:{borderBottom:\"1px solid \".concat(e.palette.divider),backgroundClip:\"padding-box\"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create(\"background-color\",{duration:e.transitions.duration.shortest}),\"&:hover\":{textDecoration:\"none\",backgroundColor:e.palette.action.hover,\"@media (hover: none)\":{backgroundColor:\"transparent\"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:\"MuiListItem\"})($),X=c.forwardRef((function(e,t){var n,a=e.classes,i=e.className,r=e.component,s=void 0===r?\"li\":r,o=e.disableGutters,l=void 0!==o&&o,d=e.ListItemClasses,h=e.role,b=void 0===h?\"menuitem\":h,j=e.selected,u=e.tabIndex,g=Object(_.a)(e,[\"classes\",\"className\",\"component\",\"disableGutters\",\"ListItemClasses\",\"role\",\"selected\",\"tabIndex\"]);return e.disabled||(n=void 0!==u?u:-1),c.createElement(J,Object(H.a)({button:!0,role:b,tabIndex:n,component:s,selected:j,disableGutters:l,classes:Object(H.a)({dense:a.dense},d),className:Object(q.a)(a.root,i,j&&a.selected,!l&&a.gutters),ref:t},g))})),Q=Object(G.a)((function(e){return{root:Object(H.a)({},e.typography.body1,Object(B.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:\"border-box\",width:\"auto\",overflow:\"hidden\",whiteSpace:\"nowrap\"},e.breakpoints.up(\"sm\"),{minHeight:\"auto\"})),gutters:{},selected:{},dense:Object(H.a)({},e.typography.body2,{minHeight:\"auto\"})}}),{name:\"MuiMenuItem\"})(X),Y=n(\"nCZa\"),K=n(\"/EAt\"),ee=n(\"Imu7\"),te=n(\"Uf6+\"),ne=n(\"sRsu\"),ae=n(\"3PeG\"),ce=n(\"Cklx\"),ie=Object(b.a)((function(e){return{options:{marginBottom:e.spacing(2)},weatherTable:{\"& thead th\":{fontWeight:\"normal\",\"&$current\":{fontWeight:\"bold\"}},\":not(:last-child) > &\":{marginBottom:e.spacing(4)}},weatherTime:{textAlign:\"center\",paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5),\"&:last-child\":{paddingRight:e.spacing(1),width:75+e.spacing(1.5)}},regionCell:{minWidth:200},weatherCell:{width:75+e.spacing(1),paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5),textAlign:\"center\",verticalAlign:\"top\",lineHeight:1,\"& span\":{display:\"inline-block\",width:75,lineHeight:1.1},\"&:last-child\":{paddingRight:e.spacing(1),width:75+e.spacing(1.5)}},current:{position:\"relative\",backgroundColor:e.palette.action.hover}}})),re=function(e){var t=e.now,n=Object(c.useState)(\"none\"),s=n[0],d=n[1],b=Object(c.useState)(!0),j=b[0],m=b[1],p=Object(c.useState)(!1),O=p[0],x=p[1],f=Object(c.useState)(!1),w=f[0],v=f[1],C=ie(),y=Object(h.useRouter)();Object(c.useEffect)((function(){var e=E.find((function(e){return e.query===y.query.filter}))?y.query.filter:\"none\";console.log(e),d(e)}),[y.query.filter]);return Object(a.jsxs)(I.a,{title:\"Upcoming Weather\",children:[Object(a.jsxs)(z.a,{container:!0,spacing:1,className:C.options,children:[Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsxs)(A.a,{variant:\"filled\",fullWidth:!0,margin:\"dense\",children:[Object(a.jsx)(R.a,{children:\"Select a region\"}),Object(a.jsxs)(L.a,{onChange:function(e){var t=e.target.value;y.push({pathname:y.pathname,query:\"none\"===t?null:{filter:t}})},value:s,children:[Object(a.jsx)(Q,{value:\"none\",children:\"Show all regions\"}),E.map((function(e){var t=e.regionId,n=e.query;return Object(a.jsx)(Q,{value:n,children:Object(g.d)(t)},n)}))]})]})}),Object(a.jsx)(z.a,{item:!0,xs:4,children:Object(a.jsx)(D.a,{control:Object(a.jsx)(F.a,{checked:j,onChange:function(){m(!j)},color:\"primary\"}),label:\"Show Labels\"})}),Object(a.jsx)(z.a,{item:!0,xs:4,children:Object(a.jsx)(D.a,{control:Object(a.jsx)(F.a,{checked:O,onChange:function(){x(!O)},color:\"primary\"}),label:\"Show local times\"})}),Object(a.jsx)(z.a,{item:!0,xs:4,children:Object(a.jsx)(D.a,{control:Object(a.jsx)(F.a,{checked:w,onChange:function(){v(!w)},color:\"primary\"}),label:Object(a.jsxs)(a.Fragment,{children:[\"Show \",Object(a.jsx)(\"code\",{children:\"weatherChance\"})]})})})]}),Object(a.jsx)(S.a,{children:function(){if(!t)return null;var e=Object(g.b)(),n=Object(g.a)(e-1,10),c=\"none\"!==s&&E.find((function(e){return e.query===s}));return(c?[c]:E).map((function(c){var s=c.regionId,d=c.zones;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(r.a,{variant:\"h6\",gutterBottom:!0,children:Object(g.d)(s)}),Object(a.jsx)(Y.a,{children:Object(a.jsxs)(K.a,{size:\"small\",className:C.weatherTable,children:[Object(a.jsx)(ee.a,{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{}),n.map((function(n,c){var i=new Date(288e5*(e-1+c)),r=new Date(i.getTime()/(1440/70));return Object(a.jsxs)(ae.a,{className:u()(C.weatherTime,1===c&&C.current),children:[O?1===c?Object(a.jsxs)(a.Fragment,{children:[l(new Date(t.getTime()*(1440/70))),\" ET\",Object(a.jsx)(\"br\",{}),l(t),\" LT\"]}):Object(a.jsxs)(a.Fragment,{children:[l(i),\" ET\",Object(a.jsx)(\"br\",{}),l(r),\" LT\"]}):l(1===c?new Date(t.getTime()*(1440/70)):i),w&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"br\",{}),o(n)]})]},c)}))]})}),Object(a.jsx)(te.a,{children:d.map((function(e){return Object(a.jsxs)(ne.a,{hover:!0,children:[Object(a.jsx)(ae.a,{component:\"th\",scope:\"row\",className:C.regionCell,children:Object(a.jsx)(r.a,{children:Object(g.d)(e)})}),n.map((function(t,n){return Object(a.jsx)(ae.a,{className:u()(C.weatherCell,1===n&&C.current),children:Object(a.jsx)(ce.a,{weatherId:Object(g.c)(e,t),showLabel:j})},n)}))]},e)}))})]})})]},s)}))}()})]})},se=n(\"hlie\"),oe=n(\"MLNC\"),le=Object(b.a)((function(e){return{anemosTable:{width:\"initial\",\"& th, & td\":{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}}})),de=function(){var e=le();return Object(a.jsxs)(I.a,{title:\"About\",children:[Object(a.jsxs)(r.a,{paragraph:!0,children:[\"The weather in Eorzea can be predicted. First, the number of Eorzean hours and days since the \",Object(a.jsx)(se.a,{href:\"https://en.wikipedia.org/wiki/Unix_time\",children:\"Unix epoch\"}),\" is calculated.\"]}),Object(a.jsx)(oe.a,{language:\"javascript\",children:\"\\n// Get seconds since Jan 1st 1970\\nconst unixSeconds = Date.now() / 1000\\n\\n// Get Eorzean hours/days since (1 Eorzean hour = 175 seconds)\\nconst eorzeanHours = Math.floor(unixSeconds / 175)\\nconst eorzeanDays = Math.floor(eorzeanHours / 24)\\n        \".trim()}),Object(a.jsx)(r.a,{paragraph:!0,children:\"Next, compute which of the 3 time chunks the hour falls in.\"}),Object(a.jsx)(oe.a,{language:\"javascript\",children:\"\\nlet timeChunk = (eorzeanHours % 24) - (eorzeanHours % 8)\\n\\n// Adjust time chunk so that\\n//   16:00 is 00,\\n//   00:00 is 08,\\n//   08:00 is 16\\ntimeChunk = (timeChunk + 8) % 24\\n        \".trim()}),Object(a.jsx)(r.a,{paragraph:!0,children:\"The number of Eorzean days and the time chunk form the seed that is hashed.\"}),Object(a.jsx)(oe.a,{language:\"javascript\",children:\"\\nconst seed = eorzeanDays * 100 + timeChunk\\n\\n// Do a little hashing\\nconst step1 = (seed << 11) ^ seed\\nconst step2 = (step1 >>> 8) ^ step1\\n\\n// Return a number between 0-99 inclusive\\nconst weatherChance = step2 % 100\\n        \".trim()}),Object(a.jsxs)(r.a,{paragraph:!0,children:[\"With \",Object(a.jsx)(\"code\",{children:\"weatherChance\"}),\" computed as a number from 0 to 99, each zone can determine its weather. For example, the weather in Eureka Anemos is Gales if \",Object(a.jsx)(\"code\",{children:\"weatherChance\"}),\" is between 30 and 59. Its full table of weathers is\"]}),Object(a.jsxs)(K.a,{className:e.anemosTable,children:[Object(a.jsx)(ee.a,{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{align:\"center\",children:Object(a.jsx)(\"code\",{children:\"weatherChance\"})}),Object(a.jsx)(ae.a,{align:\"center\",children:\"Weather\"})]})}),Object(a.jsxs)(te.a,{children:[Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{align:\"center\",children:\"00-29\"}),Object(a.jsx)(ae.a,{children:\"Fair Skies\"})]}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{align:\"center\",children:\"30-59\"}),Object(a.jsx)(ae.a,{children:\"Gales\"})]}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{align:\"center\",children:\"60-89\"}),Object(a.jsx)(ae.a,{children:\"Showers\"})]}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{align:\"center\",children:\"90-99\"}),Object(a.jsx)(ae.a,{children:\"Snow\"})]})]})]})]})};t.default=function(){var e=Object(c.useState)(null),t=e[0],n=e[1];return Object(c.useEffect)((function(){var e;return function t(){var a=new Date;n(a),e=setTimeout(t,(6e4-1440*a.getTime()/70%6e4)/(1440/70))}(),function(){clearTimeout(e)}}),[]),Object(a.jsxs)(s.a,{title:\"Skywatcher\",children:[Object(a.jsxs)(r.a,{paragraph:!0,children:[\"The time in Eorzea is \",Object(a.jsx)(\"b\",{children:t?l(new Date(1440*t.getTime()/70)):\"\\u2026\"}),\".\"]}),Object(a.jsx)(re,{now:t}),Object(a.jsx)(de,{})]})}},Zl0I:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/skywatcher\",function(){return n(\"RhdN\")}])}},[[\"Zl0I\",0,1,2,3,4,5,6,8,7,10,12]]]);","extractedComments":[]}