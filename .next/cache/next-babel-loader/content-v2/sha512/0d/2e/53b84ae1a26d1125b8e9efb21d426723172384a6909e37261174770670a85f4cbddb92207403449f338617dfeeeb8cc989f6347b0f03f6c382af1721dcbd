{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Link from '../../src/Link';\nimport Page from '../../src/Page';\nimport Section from '../../src/Section';\nimport UpcomingVoyages from '../../src/ocean-fishing/UpcomingVoyages';\nimport RouteInformation from '../../src/ocean-fishing/RouteInformation';\nimport AchievementsInformation from '../../src/ocean-fishing/AchievementsInformation';\nimport { useTranslation } from '../../src/i18n';\nexport const ChecklistContext = /*#__PURE__*/React.createContext({\n  checklist: [],\n  setChecklist: () => {}\n});\nconst useStyles = makeStyles(theme => ({\n  buttons: {\n    textAlign: 'center',\n    marginBottom: theme.spacing(2),\n    '& > *': {\n      margin: theme.spacing(1),\n      color: theme.palette.text.primary,\n      textTransform: 'none',\n      '&:hover': {\n        textDecoration: 'none'\n      }\n    }\n  }\n}));\n\nconst OceanFishing = () => {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation('ocean-fishing');\n  const {\n    0: now,\n    1: setNow\n  } = useState(new Date());\n  const {\n    0: selectedRoute,\n    1: setSelectedRoute\n  } = useState(null); // This is initialized when UpcomingVoyages is mounted\n\n  const {\n    0: checklist,\n    1: setChecklist\n  } = useState([]);\n  useEffect(() => {\n    let interval;\n\n    (function loop() {\n      const now = new Date();\n      setNow(now);\n      interval = setTimeout(loop, 60000 - now.getTime() % 60000);\n    })();\n\n    if (false) {\n      const data = window.localStorage.getItem('ocean-fishing/checklist');\n\n      if (data) {\n        setChecklist(data.split(',').map(x => Number(x) | 0).filter(x => x));\n      }\n    }\n\n    return () => {\n      clearTimeout(interval);\n    };\n  }, []);\n  useEffect(() => {\n    window.localStorage.setItem('ocean-fishing/checklist', checklist.join(','));\n  }, [checklist]);\n  return /*#__PURE__*/_jsx(Page, {\n    title: t('title'),\n    description: \"Schedule for upcoming ocean fishing voyages with information on blue fish, achievements, and more.\",\n    children: /*#__PURE__*/_jsxs(ChecklistContext.Provider, {\n      value: {\n        checklist,\n        setChecklist\n      },\n      children: [/*#__PURE__*/_jsxs(Section, {\n        children: [/*#__PURE__*/_jsxs(Typography, {\n          paragraph: true,\n          children: [\"Data are taken from the \", /*#__PURE__*/_jsx(Link, {\n            href: \"https://docs.google.com/spreadsheets/d/1brCfvmSdYl7RcY9lkgm_ds8uaFqq7qaxOOz-5BfHuuk/edit?usp=sharing\",\n            children: \"Ocean Fishing Spreadsheet\"\n          }), \" managed by S\\u2019yahn Tia. Bite times are from \", /*#__PURE__*/_jsx(Link, {\n            href: \"https://ffxivteamcraft.com/\",\n            children: \"Teamcraft\"\n          }), \" when available. For questions/comments/corrections, please visit the \", /*#__PURE__*/_jsx(Link, {\n            href: \"https://discord.gg/AnFaDpN\",\n            children: \"Fisherman\\u2019s Horizon Discord\"\n          }), \" or message Lulu Pillow@Adamantoise or Pillowfication#0538.\"]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.buttons,\n          children: [/*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/about\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('aboutPage.title')\n            })\n          }), /*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/fish\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('fishPage.title')\n            })\n          }), /*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/objectives\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('objectivesPage.title')\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(UpcomingVoyages, {\n        now: now,\n        onSelectRoute: setSelectedRoute\n      }), selectedRoute && /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(RouteInformation, {\n          now: now,\n          selectedRoute: selectedRoute\n        }), /*#__PURE__*/_jsx(AchievementsInformation, {\n          selectedRoute: selectedRoute\n        })]\n      })]\n    })\n  });\n};\n\nOceanFishing.getInitialProps = async () => ({\n  namespacesRequired: ['common', 'ocean-fishing']\n});\n\nexport default OceanFishing;","map":null,"metadata":{},"sourceType":"module"}