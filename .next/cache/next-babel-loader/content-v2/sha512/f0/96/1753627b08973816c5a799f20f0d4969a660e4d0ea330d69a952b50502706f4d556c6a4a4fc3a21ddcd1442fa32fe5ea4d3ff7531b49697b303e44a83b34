{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { useQueryState } from 'next-usequerystate';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\nimport Page from '../src/Page';\nimport Section from '../src/Section';\nimport Results from '../src/xivapi/Results';\nimport { useTranslation } from '../src/i18n';\nconst useStyles = makeStyles(() => ({\n  inputContainer: {\n    display: 'flex'\n  },\n  input: {\n    flex: 1\n  }\n}));\n\nconst XIVAPI = () => {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation('xivapi');\n  const [url, setUrl] = useQueryState('url', {\n    history: 'push'\n  });\n  const {\n    0: inputUrl,\n    1: setInputUrl\n  } = useState('');\n  useEffect(() => {\n    if (!url) {\n      setUrl('/content');\n    }\n  }, []);\n  useEffect(() => {\n    setInputUrl(url);\n  }, [url]);\n\n  const handleInputUrl = event => {\n    setInputUrl(event.target.value);\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      setUrl(inputUrl);\n    }\n  };\n\n  const handleClickGo = () => {\n    setUrl(inputUrl);\n  };\n\n  return /*#__PURE__*/_jsx(Page, {\n    title: t('XIVAPI'),\n    description: \"An interface for browsing the XIVAPI.\",\n    children: /*#__PURE__*/_jsx(Section, {\n      children: /*#__PURE__*/_jsxs(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxs(Grid, {\n          item: true,\n          xs: 12,\n          className: classes.inputContainer,\n          children: [/*#__PURE__*/_jsx(TextField, {\n            variant: \"filled\",\n            label: \"URL\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsx(InputAdornment, {\n                position: \"start\",\n                children: \"https://xivapi.com\"\n              })\n            },\n            value: inputUrl,\n            onChange: handleInputUrl,\n            onKeyPress: handleKeyPress,\n            className: classes.input\n          }), /*#__PURE__*/_jsx(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleClickGo,\n            children: \"Enter\"\n          })]\n        }), /*#__PURE__*/_jsx(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsx(NoSsr, {\n            children: url && /*#__PURE__*/_jsx(Results, {\n              url: url,\n              onChangeUrl: setUrl\n            })\n          })\n        })]\n      })\n    })\n  });\n};\n\nXIVAPI.getInitialProps = async () => ({\n  namespacesRequired: ['common', 'xivapi']\n});\n\nexport default XIVAPI;","map":null,"metadata":{},"sourceType":"module"}