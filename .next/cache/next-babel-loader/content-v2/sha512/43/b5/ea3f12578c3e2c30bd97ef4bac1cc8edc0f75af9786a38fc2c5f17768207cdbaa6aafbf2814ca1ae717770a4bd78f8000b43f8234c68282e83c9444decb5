{"ast":null,"code":"import _regeneratorRuntime from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport Link from '../../src/Link';\nimport Page from '../../src/Page';\nimport Section from '../../src/Section';\nimport UpcomingVoyages from '../../src/ocean-fishing/UpcomingVoyages';\nimport RouteInformation from '../../src/ocean-fishing/RouteInformation';\nimport AchievementsInformation from '../../src/ocean-fishing/AchievementsInformation';\nimport { useTranslation } from '../../src/i18n';\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport Alert from '@material-ui/lab/Alert';\nimport Highlight from '../../src/Highlight';\nimport BaitList from '../../src/ocean-fishing/BaitList';\nimport BaitGroup from '../../src/ocean-fishing/BaitGroup';\nimport { fishes } from '../../src/ocean-fishing/ffxiv-ocean-fishing/data';\nimport { getBaitGroup } from '../../src/ocean-fishing/utils';\nexport var ChecklistContext = /*#__PURE__*/React.createContext({\n  checklist: [],\n  setChecklist: function setChecklist() {}\n});\nvar useStyles = makeStyles(function (theme) {\n  return {\n    buttons: {\n      textAlign: 'center',\n      marginBottom: theme.spacing(2),\n      '& > *': {\n        margin: theme.spacing(1),\n        color: theme.palette.text.primary,\n        textTransform: 'none',\n        '&:hover': {\n          textDecoration: 'none'\n        }\n      }\n    }\n  };\n});\n\nvar OceanFishing = function OceanFishing() {\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation('ocean-fishing'),\n      t = _useTranslation.t;\n\n  var _useState = useState(new Date()),\n      now = _useState[0],\n      setNow = _useState[1];\n\n  var _useState2 = useState(null),\n      selectedRoute = _useState2[0],\n      setSelectedRoute = _useState2[1]; // This is initialized when UpcomingVoyages is mounted\n\n\n  var _useState3 = useState(null),\n      checklist = _useState3[0],\n      setChecklist = _useState3[1];\n\n  var _useState4 = useState(false),\n      showAlert = _useState4[0],\n      setShowAlert = _useState4[1];\n\n  useEffect(function () {\n    var interval;\n\n    (function loop() {\n      var now = new Date();\n      setNow(now);\n      interval = setTimeout(loop, 60000 - now.getTime() % 60000);\n    })();\n\n    if (true) {\n      var data = window.localStorage.getItem('ocean-fishing/checklist');\n\n      if (data !== null) {\n        setChecklist(data.split(',').map(function (x) {\n          return Number(x) | 0;\n        }).filter(function (x) {\n          return x;\n        }));\n      } else {\n        setChecklist([]);\n      }\n    }\n\n    return function () {\n      clearTimeout(interval);\n    };\n  }, []);\n  useEffect(function () {\n    if (checklist !== null) {\n      window.localStorage.setItem('ocean-fishing/checklist', checklist.join(','));\n    }\n  }, [checklist]);\n  return /*#__PURE__*/_jsx(Page, {\n    title: t('_title'),\n    description: t('_description'),\n    children: /*#__PURE__*/_jsxs(ChecklistContext.Provider, {\n      value: {\n        checklist: checklist !== null && checklist !== void 0 ? checklist : [],\n        setChecklist: setChecklist\n      },\n      children: [/*#__PURE__*/_jsxs(Section, {\n        children: [/*#__PURE__*/_jsx(Alert, {\n          severity: \"info\",\n          action: /*#__PURE__*/_jsx(Button, {\n            color: \"inherit\",\n            size: \"small\",\n            onClick: function onClick() {\n              setShowAlert(!showAlert);\n            },\n            children: \"More info\"\n          }),\n          children: \"Some baits suggestions have changed!\"\n        }), /*#__PURE__*/_jsx(Collapse, {\n          \"in\": showAlert,\n          children: /*#__PURE__*/_jsxs(Alert, {\n            severity: \"info\",\n            icon: false,\n            style: {\n              marginTop: '1px'\n            },\n            children: [/*#__PURE__*/_jsx(Typography, {\n              paragraph: true,\n              children: \"Initially, desynthesis baits were used as suggested baits. But with the data collected by Teamcraft, a few fish can be seen preferring other baits. Most notably, Hi-aetherlouse now uses Ragworm instead of Plump Worm.\"\n            }), /*#__PURE__*/_jsx(Box, {\n              textAlign: \"center\",\n              mb: 2,\n              children: /*#__PURE__*/_jsx(BaitGroup, _objectSpread({}, getBaitGroup(fishes[29761])))\n            }), /*#__PURE__*/_jsx(Typography, {\n              paragraph: true,\n              children: \"Some fish also prefer the non-standard ocean fishing baits. For example, Beatific Vision is better caught with Pill Bug instead of Krill. For simplicity, Krill is still marked as the bait of choice. The exception is when Beatific Vision appears as an intuition fish for Seafaring Toad, where Pill Bug will be suggested.\"\n            }), /*#__PURE__*/_jsx(Box, {\n              textAlign: \"center\",\n              mb: 2,\n              children: /*#__PURE__*/_jsx(BaitGroup, _objectSpread({}, getBaitGroup(fishes[32094])))\n            }), /*#__PURE__*/_jsx(Typography, {\n              paragraph: true,\n              children: \"The following fish have updated bait suggestions:\"\n            }), /*#__PURE__*/_jsx(Box, {\n              mb: 2,\n              pl: 4,\n              children: /*#__PURE__*/_jsx(BaitList, {\n                baitGroups: [29761, 32105, 29790, 32074, 32094].map(function (fishId) {\n                  return {\n                    header: fishes[fishId].name.en,\n                    baitGroupProps: _objectSpread({}, getBaitGroup(fishes[fishId]))\n                  };\n                })\n              })\n            }), /*#__PURE__*/_jsx(Typography, {\n              paragraph: true,\n              children: \"And the following fish were considered:\"\n            }), /*#__PURE__*/_jsx(Highlight, {\n              language: \"plaintext\",\n              children: \"\\nSpectral Megalodon:  Plump Worm -> Krill            +0.0% Not substantial\\nMerlthor Butterfly:  Ragworm -> Versatile Lure      +0.3% Ignore versatile lure\\nHi-aetherlouse:      Plump Worm -> Ragworm          +1.2% CHANGE\\nGugrusaurus:         Plump Worm -> Heavy Steel Jig  +0.6% Not substantial; increases bite times\\nAronnax:             Krill -> Rat Tail              +3.1% Not intuition fish\\nDeep-sea Eel:        Plump Worm -> Rat Tail         +0.8% CHANGE (as intuition)\\nTrue Barramundi:     Krill -> Rat Tail              +3.1% Not intuition fish\\nLavandin Remora:     Krill -> Versatile Lure        +0.4% Ignore versatile lure\\nMistbeard's Cup:     Krill -> Squid Strip           +7.6% CHANGE (as intuition)\\nAnomalocaris Saron:  Krill -> Squid Strip           +6.2% Not intuition fish\\nCallichthyid:        Plump Worm -> Versatile Lure   +0.2% Ignore versatile lure\\nSunken Mask:         Ragworm -> Versatile Lure      +1.8% Ignore versatile lure\\nDravanian Bream:     Krill -> Versatile Lure        +0.5% Ignore versatile lure\\nSerrated Clam:       Ragworm -> Pill Bug            +1.8% Not intuition fish\\nBeatific Vision:     Krill -> Pill Bug              +5.0% CHANGE (as intuition)\\nGory Tuna:           Plump Worm -> Pill Bug         +0.6% Not intuition fish\\nTicinepomis:         Plump Worm -> Pill Bug         +3.5% Not intuition fish\\nGarum Jug:           Ragworm -> Versatile Lure      +6.8% Ignore versatile lure\\nGarum Jug:           Ragworm -> Krill               +2.4% CHANGE\\n                \".trim()\n            })]\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(Section, {\n        children: [/*#__PURE__*/_jsxs(Typography, {\n          paragraph: true,\n          children: [\"Data are taken from the \", /*#__PURE__*/_jsx(MuiLink, {\n            href: \"https://docs.google.com/spreadsheets/d/1brCfvmSdYl7RcY9lkgm_ds8uaFqq7qaxOOz-5BfHuuk/edit?usp=sharing\",\n            children: \"Ocean Fishing Spreadsheet\"\n          }), \" managed by S\\u2019yahn Tia. Bite times are from \", /*#__PURE__*/_jsx(MuiLink, {\n            href: \"https://ffxivteamcraft.com/\",\n            children: \"Teamcraft\"\n          }), \" when available. For questions/comments/corrections, please visit the \", /*#__PURE__*/_jsx(MuiLink, {\n            href: \"https://discord.gg/AnFaDpN\",\n            children: \"Fisherman\\u2019s Horizon Discord\"\n          }), \" or message Lulu Pillow@Adamantoise or Pillowfication#0538.\"]\n        }), /*#__PURE__*/_jsxs(Typography, {\n          paragraph: true,\n          children: [\"I\\u2019ve also made a Chrome Extension for adding ocean fishes to the \", /*#__PURE__*/_jsx(Link, {\n            href: \"https://ff14fish.carbuncleplushy.com/\",\n            children: \"Carbuncle Plushy FFX|V Fish Tracker App\"\n          }), \" available on the \", /*#__PURE__*/_jsx(Link, {\n            href: \"https://chrome.google.com/webstore/detail/add-ocean-fish-to-ff14-fi/oihefgmncbnicjmcdccjflagboaidenh\",\n            children: \"Chrome Web Store\"\n          }), \".\"]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.buttons,\n          children: [/*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/about\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('aboutPage._title')\n            })\n          }), /*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/fish\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('fishPage._title')\n            })\n          }), /*#__PURE__*/_jsx(Button, {\n            component: Link,\n            variant: \"contained\",\n            href: \"/ocean-fishing/bonuses\",\n            children: /*#__PURE__*/_jsx(Typography, {\n              children: t('bonusesPage._title')\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(UpcomingVoyages, {\n        now: now,\n        onSelectRoute: setSelectedRoute\n      }), selectedRoute !== null && /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(RouteInformation, {\n          now: now,\n          route: selectedRoute\n        }), /*#__PURE__*/_jsx(AchievementsInformation, {\n          route: selectedRoute\n        })]\n      })]\n    })\n  });\n};\n\nOceanFishing.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['common', 'ocean-fishing']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default OceanFishing;","map":null,"metadata":{},"sourceType":"module"}