{"ast":null,"code":"import _regeneratorRuntime from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Alert from '@material-ui/lab/Alert';\nimport { ChecklistContext } from './index';\nimport Page from '../../src/Page';\nimport Section from '../../src/Section';\nimport FishTable from '../../src/ocean-fishing/FishTable';\nimport { fishingSpots } from '../../src/ocean-fishing/gists/data';\nimport { translate } from '../../src/ocean-fishing/utils';\nimport i18n from '../../i18n';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      backgroundColor: theme.palette.type === 'light' && theme.palette.grey[200]\n    },\n    buttons: {\n      '& button': {\n        margin: theme.spacing(1, 0)\n      }\n    }\n  };\n});\n\nvar OceanFishingFish = function OceanFishingFish(_ref) {\n  var t = _ref.t,\n      i18n = _ref.i18n;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      showImport = _useState[0],\n      setShowImport = _useState[1];\n\n  var _useState2 = useState(''),\n      importData = _useState2[0],\n      setImportData = _useState2[1];\n\n  var _useState3 = useState(null),\n      message = _useState3[0],\n      setMessage = _useState3[1];\n\n  var toggleShowImport = function toggleShowImport() {\n    setShowImport(!showImport);\n  };\n\n  return /*#__PURE__*/_jsxs(Page, {\n    title: \"\".concat(t('ocean-fishing'), \" - \").concat(t('fish')),\n    children: [/*#__PURE__*/_jsxs(Section, {\n      children: [/*#__PURE__*/_jsxs(Typography, {\n        paragraph: true,\n        children: [\"Data are taken from the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://docs.google.com/spreadsheets/d/1brCfvmSdYl7RcY9lkgm_ds8uaFqq7qaxOOz-5BfHuuk/edit?usp=sharing\",\n          children: \"Ocean Fishing Spreadsheet\"\n        }), \" managed by S\\u2019yahn Tia. Bite times are from \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://ffxivteamcraft.com/\",\n          children: \"Teamcraft\"\n        }), \" when available, with the top and bottom 10% removed.\"]\n      }), /*#__PURE__*/_jsxs(Typography, {\n        paragraph: true,\n        children: [\"I\\u2019ve also made a Chrome Extension for adding ocean fishes to the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://ff14fish.carbuncleplushy.com/\",\n          children: \"Carbuncle Plushy FFX|V Fish Tracker App\"\n        }), \" available on the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://chrome.google.com/webstore/detail/add-ocean-fish-to-ff14-fi/oihefgmncbnicjmcdccjflagboaidenh\",\n          children: \"Chrome Web Store\"\n        }), \".\"]\n      }), /*#__PURE__*/_jsx(Button, {\n        variant: \"contained\",\n        onClick: toggleShowImport,\n        children: \"Import Fishes\"\n      })]\n    }), showImport && /*#__PURE__*/_jsx(ChecklistContext.Consumer, {\n      children: function children(_ref2) {\n        var setChecklist = _ref2.setChecklist;\n\n        var handleInputImportData = function handleInputImportData(event) {\n          setImportData(event.target.value);\n        };\n\n        var handleClickImport = function handleClickImport() {\n          try {\n            var data = JSON.parse(importData);\n\n            if (Array.isArray(data)) {\n              setChecklist(data);\n              setMessage({\n                type: 'success',\n                message: \"Imported \".concat(data.length, \" fishes.\")\n              });\n            } else if (Array.isArray(data.completed)) {\n              setChecklist(data.completed);\n              setMessage({\n                type: 'success',\n                message: \"Imported \".concat(data.completed.length, \" fishes.\")\n              });\n            } else {\n              setMessage({\n                type: 'error',\n                message: 'Could not parse data.'\n              });\n            }\n          } catch (_) {\n            setMessage({\n              type: 'error',\n              message: 'Could not parse data.'\n            });\n          }\n        };\n\n        return /*#__PURE__*/_jsx(Section, {\n          children: /*#__PURE__*/_jsxs(Box, {\n            component: Paper,\n            p: 2,\n            className: classes.container,\n            children: [/*#__PURE__*/_jsxs(Typography, {\n              children: [\"Paste code from \", /*#__PURE__*/_jsx(Link, {\n                href: \"https://lalachievements.com/\",\n                children: \"Lalachievements\"\n              }), \" or \", /*#__PURE__*/_jsx(Link, {\n                href: \"https://ff14fish.carbuncleplushy.com/\",\n                children: \"FFX|V Fish Tracker App\"\n              }), \" below.\"]\n            }), /*#__PURE__*/_jsx(TextField, {\n              multiline: true,\n              fullWidth: true,\n              variant: \"outlined\",\n              rows: 4,\n              margin: \"normal\",\n              value: importData,\n              onChange: handleInputImportData\n            }), message && /*#__PURE__*/_jsx(Alert, {\n              variant: \"outlined\",\n              severity: message.type,\n              children: message.message\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: classes.buttons,\n              children: /*#__PURE__*/_jsx(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: handleClickImport,\n                children: \"Import\"\n              })\n            })]\n          })\n        });\n      }\n    }), Object.values(fishingSpots).sort(function (a, b) {\n      return a.id - b.id;\n    }).map(function (fishingSpot) {\n      return /*#__PURE__*/_jsx(Section, {\n        title: translate(i18n.language, fishingSpot, 'place_name'),\n        children: /*#__PURE__*/_jsx(FishTable, {\n          spots: [fishingSpot.id]\n        })\n      }, fishingSpot.id);\n    })]\n  });\n};\n\nOceanFishingFish.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['common', 'ocean-fishing']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default i18n.withTranslation('ocean-fishing')(OceanFishingFish);","map":null,"metadata":{},"sourceType":"module"}