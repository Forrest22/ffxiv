{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Highlight from './Highlight';\nvar setImmediatePolyfill = typeof setImmediate !== 'undefined' ? setImmediate : function (action) {\n  return setTimeout(action, 1);\n};\nvar calledRender = false;\n\nfunction queueRenderMath() {\n  if (typeof MathJax !== 'undefined' && !calledRender) {\n    MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n    calledRender = true;\n    setImmediatePolyfill(function () {\n      calledRender = false;\n    });\n  }\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    noMathJaxBlock: {\n      marginBottom: theme.spacing(2)\n    },\n    noMathJaxInline: {\n      fontFamily: 'monospace',\n      whiteSpace: 'normal',\n      wordWrap: 'break-word'\n    },\n    mathJaxBlock: {\n      maxWidth: '100%',\n      overflowX: 'auto',\n      fontSize: '1.125em'\n    },\n    mathJaxInline: {}\n  };\n});\n\n// TODO: SSR still not happy\nvar MathJaxComponent = function MathJaxComponent(_ref) {\n  var math = _ref.math,\n      displayMode = _ref.displayMode;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      isMounted = _useState[0],\n      setIsMounted = _useState[1];\n\n  useEffect(function () {\n    isMounted && queueRenderMath();\n  }, [isMounted, math, displayMode]);\n  useEffect(function () {\n    setIsMounted(true);\n  }, []);\n\n  if (!isMounted || typeof MathJax === 'undefined') {\n    return displayMode // @ts-ignore\n    ?\n    /*#__PURE__*/\n    _jsx(Highlight, {\n      language: \"latex\",\n      className: classes.noMathJaxBlock,\n      children: \"\\\\[\".concat(math, \"\\\\]\")\n    }) : /*#__PURE__*/_jsx(\"span\", {\n      className: classes.noMathJaxInline,\n      children: \"\\\\(\".concat(math, \"\\\\)\")\n    });\n  } else {\n    return displayMode ? /*#__PURE__*/_jsx(\"div\", {\n      className: classes.mathJaxBlock,\n      children: \"\\\\[\".concat(math, \"\\\\]\")\n    }) : /*#__PURE__*/_jsx(\"span\", {\n      className: classes.mathJaxInline,\n      children: \"\\\\(\".concat(math, \"\\\\)\")\n    });\n  }\n};\n\nexport default MathJaxComponent;\nexport var $ = function $(math) {\n  return /*#__PURE__*/_jsx(MathJaxComponent, {\n    math: math\n  });\n};\nexport var $$ = function $$(math) {\n  return /*#__PURE__*/_jsx(MathJaxComponent, {\n    math: math,\n    displayMode: true\n  });\n};","map":null,"metadata":{},"sourceType":"module"}