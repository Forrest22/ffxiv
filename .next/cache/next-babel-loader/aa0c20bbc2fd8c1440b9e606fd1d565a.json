{"ast":null,"code":"import EorzeaWeather from '@pillowfication/eorzea-weather';\nconst eorzeaWeather = new EorzeaWeather();\nconst EORZEAN_RATIO = 1440 / 70;\n\nconst _8HR = 8 * 60 * 60 * 1000 / EORZEAN_RATIO;\n\nexport default function forecastWeather(zoneId, now, transitionWeather = 'none', targetWeather = 'none', bells = []) {\n  let bell = (now.getTime() / _8HR | 0) - 1;\n  const occurences = [];\n  transitionWeather = transitionWeather === 'none' ? null : transitionWeather;\n  targetWeather = targetWeather === 'none' ? null : targetWeather;\n  let previousWeather;\n\n  let currentWeather = eorzeaWeather._getWeather(zoneId, bell * _8HR);\n\n  while (occurences.length < 10) {\n    const date = ++bell * _8HR;\n    previousWeather = currentWeather;\n    currentWeather = eorzeaWeather._getWeather(zoneId, ++bell * _8HR);\n\n    if ((!transitionWeather || previousWeather === transitionWeather) && (!targetWeather || currentWeather === targetWeather)) {\n      const currBell = bell % 3 * 8;\n\n      if (bells[currBell]) {\n        occurences.push({\n          date: new Date(date),\n          bell: currBell,\n          previousWeather,\n          currentWeather\n        });\n      }\n    }\n  }\n\n  return occurences;\n}","map":null,"metadata":{},"sourceType":"module"}