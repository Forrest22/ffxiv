{"ast":null,"code":"import _slicedToArray from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport calculateVoyages from './calculate-voyages';\nimport { DEST_MAP, TIME_MAP, ROUTE_MAP, FISH_MAP, BLUE_FISH_MAP } from './maps';\nimport BAIT_GROUPS from './bait-groups';\nimport { timeUntil } from './utils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Section from '../Section';\nimport Grid from '@material-ui/core/Grid';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport RouteCardContainer from './RouteCardContainer';\nimport RouteCard from './RouteCard';\nimport BaitList from './BaitList';\nimport OceanFishIcon from './OceanFishIcon';\nimport Tug from './Tug';\nimport FISH from './gists/fish.json';\nvar TIMES = 'DSN';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    headerSub: _defineProperty({\n      marginLeft: theme.spacing(2)\n    }, theme.breakpoints.down('xs'), {\n      marginLeft: 0,\n      display: 'block'\n    }),\n    headerTime: {\n      position: 'relative',\n      top: '-0.2em'\n    },\n    table: {\n      '& td': {\n        padding: 0\n      }\n    },\n    tableTug: {\n      fontSize: '1.5em'\n    }\n  };\n});\n\nfunction TabPanel(_ref) {\n  var children = _ref.children,\n      tab = _ref.tab,\n      index = _ref.index,\n      stop = _ref.stop;\n  var classes = useStyles();\n  return /*#__PURE__*/_jsx(\"div\", {\n    hidden: tab !== index,\n    children: tab === index && function () {\n      var regions;\n\n      switch (stop[0]) {\n        case 'G':\n          regions = ['Outer Galadion Bay', 'Galadion Spectral Current'];\n          break;\n\n        case 'S':\n          regions = ['The Southern Strait of Merlthor', 'Southern Merlthor Spectral Current'];\n          break;\n\n        case 'N':\n          regions = ['The Northern Strait of Merlthor', 'Northern Merlthor Spectral Current'];\n          break;\n\n        case 'R':\n          regions = ['Open Rhotano Sea', 'Rhotano Spectral Current'];\n          break;\n\n        case 'C':\n          regions = ['Cieldalaes Margin', 'Cieldalaes Spectral Current'];\n          break;\n\n        case 'B':\n          regions = ['Open Bloodbrine Sea', 'Bloodbrine Spectral Current'];\n          break;\n\n        case 'T':\n          regions = ['Outer Rothlyt Sound', 'Rothlyt Spectral Current'];\n          break;\n      }\n\n      return /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsxs(Table, {\n          size: \"small\",\n          className: classes.table,\n          children: [/*#__PURE__*/_jsx(TableHead, {\n            children: /*#__PURE__*/_jsxs(TableRow, {\n              children: [/*#__PURE__*/_jsx(TableCell, {\n                colspan: 2,\n                align: \"center\",\n                children: \"Fish\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Bait\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Tug\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Points\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Double Hook\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Line Time\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(TableBody, {\n            children: FISH[regions[0]].map(function (fish) {\n              return /*#__PURE__*/_jsxs(TableRow, {\n                children: [/*#__PURE__*/_jsx(TableCell, {\n                  children: /*#__PURE__*/_jsx(OceanFishIcon, {\n                    name: fish.name\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: fish.name\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(OceanFishIcon, {\n                    name: fish.bait\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Tug, {\n                    strength: fish.tug,\n                    className: classes.tableTug\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: fish.points\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: Array.isArray(fish.doubleHook) ? fish.doubleHook.join(', ') : fish.doubleHook\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: Array.isArray(fish.timer) ? fish.timer.join('-') : fish.timer\n                  })\n                })]\n              }, fish.name);\n            })\n          }), /*#__PURE__*/_jsx(TableHead, {\n            children: /*#__PURE__*/_jsxs(TableRow, {\n              children: [/*#__PURE__*/_jsx(TableCell, {\n                colSpan: 2,\n                align: \"center\",\n                children: \"Fish\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Bait\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Tug\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Points\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Double Hook\"\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"center\",\n                children: \"Line Time\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(TableBody, {\n            children: FISH[regions[1]].map(function (fish) {\n              return /*#__PURE__*/_jsxs(TableRow, {\n                children: [/*#__PURE__*/_jsx(TableCell, {\n                  children: /*#__PURE__*/_jsx(OceanFishIcon, {\n                    name: fish.name\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: fish.name\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(OceanFishIcon, {\n                    name: fish.bait\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Tug, {\n                    strength: fish.tug,\n                    className: classes.tableTug\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: fish.points\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: Array.isArray(fish.doubleHook) ? fish.doubleHook.join(', ') : fish.doubleHook\n                  })\n                }), /*#__PURE__*/_jsx(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsx(Typography, {\n                    children: Array.isArray(fish.timer) ? fish.timer.join('-') : fish.timer\n                  })\n                })]\n              }, fish.name);\n            })\n          })]\n        })\n      });\n    }()\n  });\n}\n\nvar RouteInformation = function RouteInformation(_ref2) {\n  var now = _ref2.now,\n      selectedRoute = _ref2.selectedRoute;\n  if (!now || !selectedRoute) return null;\n  var classes = useStyles();\n\n  var _selectedRoute = _slicedToArray(selectedRoute, 2),\n      name = _selectedRoute[0],\n      time = _selectedRoute[1];\n\n  var timeIndex = TIMES.indexOf(time);\n  var routeStops = ROUTE_MAP[name].map(function (dest, index) {\n    return dest + TIMES[(timeIndex + index + 1) % 3];\n  });\n  var next = calculateVoyages(now, 1, selectedRoute)[0];\n\n  var _useState = useState(false),\n      showAllFish = _useState[0],\n      setShowAllFish = _useState[1];\n\n  var _useState2 = useState(0),\n      tab = _useState2[0],\n      setTab = _useState2[1];\n\n  var handleToggleShowAllFish = function handleToggleShowAllFish() {\n    setShowAllFish(!showAllFish);\n  };\n\n  var handleChangeTab = function handleChangeTab(event, value) {\n    setTab(value);\n  };\n\n  return /*#__PURE__*/_jsx(Section, {\n    title: /*#__PURE__*/_jsxs(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxs(Grid, {\n        item: true,\n        xs: 12,\n        lg: 8,\n        children: [DEST_MAP[name], \" \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.headerTime,\n          children: TIME_MAP[time]\n        }), /*#__PURE__*/_jsx(Typography, {\n          display: \"inline\",\n          className: classes.headerSub,\n          children: timeUntil(now, next.time, true)\n        })]\n      }), /*#__PURE__*/_jsx(Grid, {\n        item: true,\n        xs: 12,\n        lg: 4,\n        children: /*#__PURE__*/_jsx(FormControlLabel, {\n          control: /*#__PURE__*/_jsx(Checkbox, {\n            checked: showAllFish,\n            onChange: handleToggleShowAllFish,\n            color: \"primary\"\n          }),\n          label: \"Show all fish (WIP)\"\n        })\n      })]\n    }),\n    children: function () {\n      if (showAllFish) {\n        return /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(Tabs, {\n            variant: \"fullWidth\",\n            value: tab,\n            onChange: handleChangeTab,\n            children: routeStops.map(function (stop, index) {\n              return /*#__PURE__*/_jsx(Tab, {\n                label: /*#__PURE__*/_jsxs(_Fragment, {\n                  children: [index + 1, \". \", DEST_MAP[stop[0]], \" \", TIME_MAP[stop[1]]]\n                })\n              }, index);\n            })\n          }), routeStops.map(function (stop, index) {\n            return /*#__PURE__*/_jsx(TabPanel, {\n              tab: tab,\n              index: index,\n              stop: stop\n            }, index);\n          })]\n        });\n      } else {\n        return /*#__PURE__*/_jsx(RouteCardContainer, {\n          children: routeStops.map(function (stop, index) {\n            return /*#__PURE__*/_jsxs(RouteCard, {\n              children: [/*#__PURE__*/_jsx(CardHeader, {\n                title: /*#__PURE__*/_jsxs(Typography, {\n                  variant: \"h6\",\n                  children: [index + 1, \". \", DEST_MAP[stop[0]], \" \", TIME_MAP[stop[1]]]\n                }),\n                disableTypography: true\n              }), /*#__PURE__*/_jsx(CardContent, {\n                children: function () {\n                  var baitGroups = FISH_MAP[stop[0]].map(function (fish) {\n                    return {\n                      header: fish,\n                      baitGroup: BAIT_GROUPS[fish]\n                    };\n                  });\n                  var blueFish = BLUE_FISH_MAP[stop];\n\n                  if (blueFish) {\n                    baitGroups.push({\n                      header: blueFish,\n                      baitGroup: BAIT_GROUPS[blueFish]\n                    });\n                  }\n\n                  return /*#__PURE__*/_jsx(BaitList, {\n                    baitGroups: baitGroups\n                  });\n                }()\n              })]\n            }, index);\n          })\n        });\n      }\n    }()\n  });\n};\n\nexport default RouteInformation;","map":null,"metadata":{},"sourceType":"module"}