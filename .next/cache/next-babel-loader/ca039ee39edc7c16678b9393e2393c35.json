{"ast":null,"code":"import _regeneratorRuntime from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/ffxiv/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport Page from '../../src/Page';\nimport Section from '../../src/Section';\nimport ImportFishes from '../../src/ocean-fishing/ImportFishes';\nimport FishTable from '../../src/ocean-fishing/FishTable';\nimport { fishingSpots } from '../../src/ocean-fishing/gists/data';\nimport { translate } from '../../src/ocean-fishing/utils';\nimport i18n from '../../i18n';\n\nvar OceanFishingFish = function OceanFishingFish(_ref) {\n  var t = _ref.t,\n      i18n = _ref.i18n;\n\n  var _useState = useState([]),\n      checklist = _useState[0],\n      setChecklist = _useState[1];\n\n  var _useState2 = useState(false),\n      showImport = _useState2[0],\n      setShowImport = _useState2[1];\n\n  useEffect(function () {\n    if (false) {\n      setChecklist([]);\n    } else {\n      var data = window.localStorage.getItem('ocean-fishing/checklist');\n\n      if (!data) {\n        setChecklist([]);\n      } else {\n        setChecklist(data.split(',').map(Number).filter(function (x) {\n          return x;\n        }));\n      }\n    }\n  }, []);\n  useEffect(function () {\n    window.localStorage.setItem('ocean-fishing/checklist', checklist.join(','));\n  }, [checklist]);\n\n  var toggleShowImport = function toggleShowImport() {\n    setShowImport(!showImport);\n  };\n\n  return /*#__PURE__*/_jsxs(Page, {\n    title: \"\".concat(t('ocean-fishing'), \" - \").concat(t('fish')),\n    children: [/*#__PURE__*/_jsxs(Section, {\n      children: [/*#__PURE__*/_jsxs(Typography, {\n        paragraph: true,\n        children: [\"Data are taken from the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://docs.google.com/spreadsheets/d/1brCfvmSdYl7RcY9lkgm_ds8uaFqq7qaxOOz-5BfHuuk/edit?usp=sharing\",\n          children: \"Ocean Fishing Spreadsheet\"\n        }), \" managed by S\\u2019yahn Tia. Bite times are from \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://ffxivteamcraft.com/\",\n          children: \"Teamcraft\"\n        }), \" when available, with the top and bottom 10% removed.\"]\n      }), /*#__PURE__*/_jsxs(Typography, {\n        paragraph: true,\n        children: [\"I\\u2019ve also made a Chrome Extension for adding ocean fishes to the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://ff14fish.carbuncleplushy.com/\",\n          children: \"Carbuncle Plushy FFX|V Fish Tracker App\"\n        }), \" available on the \", /*#__PURE__*/_jsx(Link, {\n          href: \"https://chrome.google.com/webstore/detail/add-ocean-fish-to-ff14-fi/oihefgmncbnicjmcdccjflagboaidenh\",\n          children: \"Chrome Web Store\"\n        }), \".\"]\n      }), /*#__PURE__*/_jsx(Button, {\n        variant: \"contained\",\n        onClick: toggleShowImport,\n        children: \"Import Fishes\"\n      })]\n    }), showImport && /*#__PURE__*/_jsx(ImportFishes, {\n      setChecklist: setChecklist\n    }), Object.values(fishingSpots).sort(function (a, b) {\n      return a.id - b.id;\n    }).map(function (fishingSpot) {\n      return /*#__PURE__*/_jsx(Section, {\n        title: translate(i18n.language, fishingSpot, 'place_name'),\n        children: /*#__PURE__*/_jsx(FishTable, {\n          spots: [fishingSpot.id],\n          checklist: checklist,\n          setChecklist: setChecklist\n        })\n      }, fishingSpot.id);\n    })]\n  });\n};\n\nOceanFishingFish.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['common', 'ocean-fishing']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default i18n.withTranslation('ocean-fishing')(OceanFishingFish);","map":null,"metadata":{},"sourceType":"module"}