{"ast":null,"code":"import EorzeaWeather from 'eorzea-weather';\nvar EORZEAN_RATIO = 1440 / 70;\n\nvar _8HR = 8 * 60 * 60 * 1000;\n\nexport default function forecastWeather(zoneId, now) {\n  var transitionWeather = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'none';\n  var targetWeather = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'none';\n  var bells = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var bell = (now.getTime() * EORZEAN_RATIO / _8HR | 0) - 1;\n  var occurences = [];\n  var eorzeaWeather = new EorzeaWeather(zoneId);\n  transitionWeather = transitionWeather === 'none' ? null : transitionWeather;\n  targetWeather = targetWeather === 'none' ? null : targetWeather;\n  var previousWeather;\n  var currentWeather = eorzeaWeather.getWeather(new Date(bell * _8HR / EORZEAN_RATIO));\n\n  while (occurences.length < 10) {\n    var date = new Date(++bell * _8HR / EORZEAN_RATIO);\n    previousWeather = currentWeather;\n    currentWeather = eorzeaWeather.getWeather(date);\n\n    if ((!transitionWeather || previousWeather === transitionWeather) && (!targetWeather || currentWeather === targetWeather)) {\n      var currBell = bell % 3 * 8;\n\n      if (bells[currBell]) {\n        occurences.push({\n          date: date,\n          bell: currBell,\n          previousWeather: previousWeather,\n          currentWeather: currentWeather\n        });\n      }\n    }\n  }\n\n  return occurences;\n}\ntrue && (window.asdf = forecastWeather);","map":null,"metadata":{},"sourceType":"module"}