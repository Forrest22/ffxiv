(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{4826:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ocean-fishing/about",function(){return n(3590)}])},3590:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return f}});var i=n(5944),a=(n(7294),n(1983)),r=n(5861),o=n(5113),s=n(2882),c=n(6906),l=n(8884),h=n(7255),u=n(7556),d=n(3432),N=n(7389),f=!0;e.default=function(){var t=(0,a.$G)("ocean-fishing").t;return(0,i.BX)(c.Z,{title:[t("_title"),t("aboutPage._title")],children:[(0,d.Q)("cancel"),(0,i.tZ)(N.Z,{}),(0,i.BX)(l.Z,{title:t("aboutPage.data"),children:[(0,i.BX)(r.Z,{paragraph:!0,children:["Data are taken from the ",(0,i.tZ)(h.C,{href:"https://docs.google.com/spreadsheets/d/1R0Nt8Ye7EAQtU8CXF1XRRj67iaFpUk1BXeDgt6abxsQ/edit#gid=149797934",children:"Ocean Fishing Spreadsheet"})," managed by Tyo\u2019to Tayuun. To report errors, please visit the ",(0,i.tZ)(h.C,{href:"https://discord.gg/AnFaDpN",children:"Fisherman\u2019s Horizon Discord"})," or message Lulu Pillow@Adamantoise or Pillowfication#0538."]}),(0,i.BX)(r.Z,{paragraph:!0,children:["Bite times are periodically fetched from ",(0,i.tZ)(h.C,{href:"https://ffxivteamcraft.com/",children:"Teamcraft"}),". Teamcraft defines the minimum and maximum bite times to be the whiskers of a typical boxplot. This means"]}),(0,i.BX)("ol",{children:[(0,i.BX)(r.Z,{component:"li",children:["Compute quartiles using the type-7 algorithm detailed in ",(0,i.tZ)(h.C,{href:"https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/quantile",children:"R\u2019s quantile method"}),"."]}),(0,i.BX)(r.Z,{component:"li",children:["Removing samples more than ",(0,d.$)("1.5 \\times \\text{IQR}")," from the median."]})]}),(0,i.BX)(r.Z,{paragraph:!0,children:["The default bite times shown on the ",(0,i.tZ)(h.C,{href:"/ocean-fishing",children:"Ocean Fishing page"})," are the bite time ranges over all baits, excluding Versatile Lure. While this works fairly well, it can still be inaccurate, and most prescribed strategies will use player-tested timings."]}),(0,i.BX)(r.Z,{paragraph:!0,children:["Bait percentages are also fetched from Teamcraft and are usually used as the suggested bait, unless the bait causes a drastic increase in bite times. Usually the best bait is the fish\u2019s desynthesis bait, and nonstandard ocean fishing baits are avoided, unless the goal is Fisher\u2019s Intuition. Specific cases were further detailed in the ",(0,i.tZ)(h.C,{href:"https://discord.com/channels/327124808217395200/679407580430467092/864238268514041917",children:"Discord"}),"."]}),(0,i.BX)(r.Z,{paragraph:!0,children:["All my data and the code I used are available on ",(0,i.tZ)(h.C,{href:"https://github.com/pillowfication/ffxiv/tree/master/src/ocean-fishing/ffxiv-ocean-fishing",children:"GitHub"}),"."]})]}),(0,i.BX)(l.Z,{title:t("aboutPage.algorithm"),children:[(0,i.tZ)(r.Z,{paragraph:!0,children:"Ocean Fishing voyages follow a specific pattern best seen using Japan Standard Time (JST). Voyages leave every 2 hours on odd hours (at 1:00, 3:00, \u2026, 23:00). The destination always cycles between the 4 destinations in the following order:"}),(0,i.tZ)(s.Z,{sx:{mb:2},children:(0,d.$$)("\\cdots \\to \\text{Bloodbrine Sea} \\to \\text{Rothlyt Sound} \\to \\text{Northern Strait of Merlthor} \\to \\text{Rhotano Sea} \\to \\cdots")}),(0,i.tZ)(r.Z,{paragraph:!0,children:"The 4 destinations will all be set to arrive at Day, then repeated to arrive at Sunset, then repeated to arrive at Night. There are 12 routes that I label as"}),(0,i.tZ)(s.Z,{sx:{mb:2},children:(0,d.$$)("\n            \\begin{array}{r|ccc}\n              & \\text{Day (D)} & \\text{Sunset (S)} & \\text{Night (N)} \\\\\n              \\hline\n              \\text{Bloodbrine Sea (B)} & \\text{BD} & \\text{BS} & \\text{BN} \\\\\n              \\text{Rothlyt Sound (T)} & \\text{TD} & \\text{TS} & \\text{TN} \\\\\n              \\text{Northern Strait of Merlthor (N)} & \\text{ND} & \\text{NS} & \\text{NN} \\\\\n              \\text{Rhotano Sea (R)} & \\text{RD} & \\text{RS} & \\text{RN} \\\\\n            \\end{array}\n          ")}),(0,i.tZ)(r.Z,{paragraph:!0,children:"and they follow the sequence"}),(0,i.tZ)(s.Z,{sx:{mb:2},children:(0,d.$$)("\n            \\begin{array}{rcccccccccl}\n              \\cdots & \\to & \\text{BD} & \\to & \\text{TD} & \\to & \\text{ND} & \\to & \\text{RD} \\\\\n              & \\to & \\text{BS} & \\to & \\text{TS} & \\to & \\text{NS} & \\to & \\text{RS} \\\\\n              & \\to & \\text{BN} & \\to & \\text{TN} & \\to & \\text{NN} & \\to & \\text{RN} & \\to & \\cdots \\\\\n            \\end{array}\n          ")}),(0,i.tZ)(r.Z,{paragraph:!0,children:"However, the first voyage of every day (at 1:00 JST) will skip a route. So there might be the schedule"}),(0,i.tZ)(s.Z,{sx:{mb:2},children:(0,d.$$)("\n            \\cdots\n            \\begin{array}{c|c}\n              \\text{19:00} & \\text{21:00} & \\text{23:00} & \\text{01:00} & \\text{03:00} & \\text{05:00} & \\text{07:00} \\\\\n              \\text{NS} & \\text{RS} & \\text{BN} & \\begin{array}{c}\\cancel{\\text{TN}} \\\\ \\text{NN}\\end{array} & \\text{RN} & \\text{BD} & \\text{TD} \\\\\n            \\end{array}\n            \\cdots\n          ")}),(0,i.tZ)(r.Z,{paragraph:!0,children:"Since there are 12 routes and 12 voyages a day, the route that is skipped will cycle through all 12 routes in 12 days. The full pattern of routes is 144 routes long."}),(0,i.tZ)(u.Z,{language:"javascript",children:"\nconst PATTERN = [\n  'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN',\n  'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD',\n  'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD',\n  'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND',\n  'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD',\n  'TS', 'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS',\n  'NS', 'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS',\n  'RS', 'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS',\n  'BN', 'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS',\n  'TN', 'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN',\n  'NN', 'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN',\n  'RN', 'BD', 'TD', 'ND', 'RD', 'BS', 'TS', 'NS', 'RS', 'BN', 'TN', 'NN'\n]\n          ".trim()}),(0,i.BX)(r.Z,{paragraph:!0,children:["To figure out the route at a given time, we need to first establish some epoch as the first voyage and determine where in ",(0,i.tZ)(o.Z,{component:"code",variant:"outlined",sx:{px:.5},children:"PATTERN"})," that voyage lies. All other routes will be calculated relative to that epoch. Fortunately, JST is UTC+09:00, which means a voyage lands on the ",(0,i.tZ)(h.C,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"Unix epoch"}),". As it turns out, this voyage is index 88 in ",(0,i.tZ)(o.Z,{component:"code",variant:"outlined",sx:{px:.5},children:"PATTERN"}),". Altogether,"]}),(0,i.tZ)(u.Z,{language:"typescript",children:"\nconst TWO_HOURS = 2 * 60 * 60 * 1000\nconst OFFSET = 88\n\n/**\n * Returns the route of the ongoing/most recent voyage.\n */\nfunction getRoute (date: Date) {\n  // Get the number of voyages since 00:00:00 UTC, 1 January 1970\n  const voyageNumber = Math.floor(date.getTime() / TWO_HOURS)\n\n  // Get where it lies in the pattern\n  const route = PATTERN[(OFFSET + voyageNumber) % PATTERN.length]\n\n  return route\n}\n          ".trim()})]})]})}},7556:function(t,e,n){"use strict";var i=n(5944),a=(n(7294),n(2734)),r=n(5113),o=n(7561),s=n(6671),c=n(2538),l=n(8575),h=n(5801);o.Z.registerLanguage("javascript",c.Z),o.Z.registerLanguage("latex",l.Z),o.Z.registerLanguage("typescript",h.Z);e.Z=function(t){var e=t.language,n=t.sx,c=t.children,l=(0,a.Z)();return(0,i.tZ)(r.Z,{component:o.Z,variant:"outlined",language:e,style:"dark"===l.palette.mode?s.FE:s.bW,sx:n,children:c})}},3432:function(t,e,n){"use strict";n.d(e,{$:function(){return l},$$:function(){return h},Q:function(){return u}});var i=n(5944),a=n(7294),r=n(9104),o=!1;function s(){o||(o=!0,setTimeout((function(){"undefined"!==typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),o=!1}),0))}var c=function(t){var e=t.math,n=t.displayMode,r=void 0!==n&&n;return(0,a.useEffect)(s,[e,r]),r?(0,i.tZ)("div",{children:"\\[".concat(e,"\\]")}):(0,i.tZ)("span",{children:"\\(".concat(e,"\\)")})},l=function(t){return(0,i.tZ)(r.Z,{children:(0,i.tZ)(c,{math:t})})},h=function(t){return(0,i.tZ)(r.Z,{children:(0,i.tZ)(c,{math:t,displayMode:!0})})},u=function(t){return(0,i.tZ)(r.Z,{children:(0,i.tZ)("div",{style:{display:"none"},children:(0,i.tZ)(c,{math:"\\require{".concat(t,"}")})})})}},6906:function(t,e,n){"use strict";var i=n(5944),a=(n(7294),n(1163)),r=n(9008),o=n.n(r),s=n(1983),c=n(2962),l=n(5861);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){h(t,e,n[e])}))}return t}e.Z=function(t){var e=t.title,n=t.description,r=t.seo,h=void 0===r?{}:r,d=t.og,N=void 0===d?{}:d,f=t.children,g=(0,a.useRouter)(),p=(0,s.$G)("common").i18n,m="string"===typeof e?e:e.join(" | "),Z="string"===typeof e?e:e[e.length-1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(o(),{children:(0,i.tZ)("title",{children:m})}),(0,i.tZ)(c.PB,u({title:m,description:n,canonical:"https://ffxiv.pf-n.co".concat(g.asPath),openGraph:u({url:"https://ffxiv.pf-n.co".concat(g.asPath),title:m,description:n,locale:p.language,site_name:"Lulu\u2019s Tools"},N)},h)),(0,i.tZ)(l.Z,{variant:"h1",gutterBottom:!0,mt:2,children:Z}),f]})}},8884:function(t,e,n){"use strict";var i=n(5944),a=(n(7294),n(7357)),r=n(5861);e.Z=function(t){var e=t.title,n=t.sx,o=t.children;return(0,i.BX)(a.Z,{component:"section",mb:4,sx:n,children:[void 0!==e&&(0,i.tZ)(r.Z,{variant:"h2",gutterBottom:!0,children:e}),o]})}},7389:function(t,e,n){"use strict";var i=n(5944),a=n(7294),r=n(1983),o=n(5861),s=n(7357),c=n(6863),l=n(1057),h=n(7814),u=n(9398),d=n(7255),N=function(){var t=(0,r.$G)("ocean-fishing").t;return(0,i.tZ)(s.Z,{component:"nav",sx:{textAlign:"center",mb:2},children:(0,i.tZ)(c.Z,{variant:"contained",children:[{url:"/",icon:u.J9Y,name:"_title"},{url:"/about",icon:u.Fuz,name:"aboutPage._title"},{url:"/fish",icon:u.io7,name:"fishPage._title"},{url:"/bonuses",icon:u.Tab,name:"bonusesPage._title"}].map((function(e){var n=e.url,a=e.icon,r=e.name;return(0,i.BX)(l.Z,{component:d.C,href:"/ocean-fishing".concat(n),children:[(0,i.tZ)(s.Z,{sx:{display:"inline-block",mr:{xs:0,sm:1},fontSize:{xs:"1.5em",sm:"1em"}},children:(0,i.tZ)(h.G,{icon:a})}),(0,i.tZ)(o.Z,{sx:{display:{xs:"none",sm:"inline"},textTransform:"none"},children:t(r)})]},n)}))})})};e.Z=a.memo(N)}},function(t){t.O(0,[523,962,477,464,774,888,179],(function(){return e=4826,t(t.s=e);var e}));var e=t.O();_N_E=e}]);