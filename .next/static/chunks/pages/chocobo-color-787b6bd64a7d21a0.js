(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{7816:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chocobo-color",function(){return n(2736)}])},2736:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return te},default:function(){return ne}});var r=n(5944),o=n(7294),i=n(1983),a=n(5861),l=n(6906),c=n(8884),u=n(7255),d=n(7357),s=n(6886),h=n(1903),f=n(1057),g=n(2855),m=n(6613),Z=n(5113),b=n(2902),p=n(1921),v=function(e){var t=e.shade,n=e.color,o=e.selected,a=void 0!==o&&o,l=e.onClick,c=(0,i.$G)().i18n.language;return(0,r.tZ)(b.Z,{title:(0,p.Iu)("shade",t,c),children:(0,r.tZ)(Z.Z,{component:"span",onClick:l,sx:{display:"inline-block",width:"2.5em",height:"2.5em",backgroundColor:"rgb(".concat(n.R,",").concat(n.G,",").concat(n.B,")"),borderStyle:"solid",borderWidth:a?3:1,borderColor:a?"primary.light":"#00000055",borderRadius:"50%",m:.75,cursor:"pointer"}})})},y=n(9371),w=n(6901),O=n(3619),S=n(5648),P=n(1796),I=n(8462),x=n(9875),j=n(3395),B=n(7036),X=n(3905),C=n(9465);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){var t=e.fruits,n=(0,i.$G)("chocobo-color").i18n,l=(0,o.useState)({}),c=l[0],u=l[1],d=n.language;(0,o.useEffect)((function(){u({})}),[t]);var s=function(e){u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}({},c,k({},e,!c[e])))};return(0,r.tZ)(Z.Z,{children:(0,r.tZ)(I.Z,{component:"ol",sx:{p:0},children:t.map((function(e,t){return(0,r.BX)(x.ZP,{divider:!0,onClick:s.bind(null,t),sx:{cursor:"pointer",backgroundColor:c[t]?function(e){return(0,P.Fq)(e.palette.secondary.light,.5)}:"none"},children:[(0,r.tZ)(a.Z,{sx:{width:"2em",textAlign:"center"},children:t+1}),(0,r.tZ)(S.Z,{fruit:e,size:.9,sx:{verticalAlign:"middle",mr:1}}),(0,r.tZ)(a.Z,{children:(0,C.Z)(d,X.DN[e],"name")}),(0,r.tZ)(j.Z,{children:(0,r.tZ)(B.Z,{sx:{color:c[t]?"success.main":"lightgray"}})})]},t)}))})})},A=function(e){var t=e.solution,n=(0,i.$G)("chocobo-color"),o=n.t,l=n.i18n.language;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.ZP,{item:!0,xs:12,md:10,lg:8,children:(0,r.BX)(s.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,r.tZ)(y.Z,{inline:!0,stain:t.fromStain}),(0,r.BX)(a.Z,{children:["\xa0",(0,C.Z)(l,t.fromStain,"name")]}),(0,r.tZ)(O.Z,{sx:{mx:1}}),(0,r.tZ)(y.Z,{inline:!0,stain:t.toStain}),(0,r.BX)(a.Z,{children:["\xa0",(0,C.Z)(l,t.toStain,"name")]})]})}),t.fruits.length>(0,p.uX)(X.DX[36],t.toStain).fruits.length&&(0,r.tZ)(s.ZP,{item:!0,xs:12,md:10,lg:8,children:(0,r.tZ)(w.Z,{severity:"info",children:"You might save fruits by resetting to Desert Yellow with a Han Lemon first."})}),(0,r.BX)(s.ZP,{item:!0,xs:12,md:10,lg:8,children:[(0,r.tZ)(a.Z,{variant:"h6",gutterBottom:!0,children:o("fruitsNeeded")}),t.fruits.length>0?[p.PO.XelphatolApple,p.PO.MamookPear,p.PO.OGhomoroBerries,p.PO.DomanPlum,p.PO.Valfruit,p.PO.CieldalaesPineapple].map((function(e){return{fruit:e,count:t.fruits.filter((function(t){return t===e})).length}})).filter((function(e){return e.count>0})).map((function(e){var t=e.fruit,n=e.count;return(0,r.BX)("div",{children:[(0,r.BX)(a.Z,{component:"span",sx:{display:"inline-block",width:"2.5em",fontSize:"1.25em",textAlign:"right",verticalAlign:"middle"},children:[n,"\xd7"]}),(0,r.tZ)(S.Z,{fruit:t,sx:{verticalAlign:"middle",mx:1}}),(0,r.tZ)(a.Z,{component:"span",children:(0,C.Z)(l,X.DN[t],"name")})]},t)})):(0,r.tZ)(a.Z,{children:(0,r.tZ)("em",{children:o("noFruits")})})]}),t.fruits.length>0&&(0,r.BX)(s.ZP,{item:!0,xs:12,md:10,lg:8,children:[(0,r.tZ)(a.Z,{variant:"h6",gutterBottom:!0,children:o("fruitsOrder")}),(0,r.tZ)(_,{fruits:t.fruits})]})]})},D=11,E=3,N=135,G=173,L=148,$=0,R=88,Y=121,T=151,F=128,H=81,W=74;function z(e,t,n,r){for(var o=0;o<t.width;++o)for(var i=0;i<t.height;++i){var a=n+o,l=r+i,c=e.data,u=t.data,d=4*(l*e.width+a),s=4*(i*t.width+o),h=[c[d+0]/255,c[d+1]/255,c[d+2]/255,c[d+3]/255],f=h[0],g=h[1],m=h[2],Z=h[3],b=[u[s+0]/255,u[s+1]/255,u[s+2]/255,u[s+3]/255],p=b[0],v=b[1],y=b[2],w=b[3],O=1-(1-w)*(1-Z);c[d+0]=255*(p*w/O+f*Z*(1-w)/O),c[d+1]=255*(v*w/O+g*Z*(1-w)/O),c[d+2]=255*(y*w/O+m*Z*(1-w)/O),c[d+3]=255*O}}var M=function(e){var t=e.color,n=(0,o.useRef)(null),i=(0,o.useState)(null),a=i[0],l=i[1];return(0,o.useEffect)((function(){var e=document.createElement("canvas"),t=e.getContext("2d");if(null!==t){var n=new Image;n.addEventListener("load",(function(){e.width=n.width,e.height=n.height,t.drawImage(n,0,0,n.width,n.height),l({chocobo:t.getImageData(D,E,N,G),saddle:t.getImageData(L,$,R,Y),feet:t.getImageData(T,F,H,W)})}),!1),n.src="/images/chocobo-color/chocobo-companion.png"}else console.error("Something is very wrong!")}),[]),(0,o.useEffect)((function(){if(null!==a){var e,r=null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getContext("2d");null!=r?r.putImageData(function(e,t,n){for(var r=e.createImageData(136,219),o=e.createImageData(t.chocobo),i=0;i<o.data.length;i+=4)o.data[i+0]=t.chocobo.data[i+0]/255*n.R,o.data[i+1]=t.chocobo.data[i+1]/255*n.G,o.data[i+2]=t.chocobo.data[i+2]/255*n.B,o.data[i+3]=t.chocobo.data[i+3];return z(r,o,1,0),z(r,t.saddle,0,3),z(r,t.feet,17,145),r}(r,a,t),0,0):console.error("Something is very wrong!")}}),[a,t]),null!==a?(0,r.tZ)("canvas",{ref:n,width:136,height:219}):(0,r.tZ)("div",{children:"Loading..."})};function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K={2:{shade:p.j0.White,color:new p.Il(255,255,255)},4:{shade:p.j0.Red,color:new p.Il(210,28,28)},5:{shade:p.j0.Brown,color:new p.Il(170,114,54)},6:{shade:p.j0.Yellow,color:new p.Il(240,220,44)},7:{shade:p.j0.Green,color:new p.Il(150,204,60)},8:{shade:p.j0.Blue,color:new p.Il(74,130,243)},9:{shade:p.j0.Purple,color:new p.Il(166,98,228)}},Q=Object.values(X.DX).filter(p.cl).sort((function(e,t){return e.shade!==t.shade?e.shade-t.shade:e.shadeIndex-t.shadeIndex})),ee=function(){var e=(0,i.$G)("chocobo-color"),t=e.t,n=e.i18n,a=(0,o.useState)(X.DX[36]),l=a[0],u=a[1],Z=(0,o.useState)(Q[0]),b=Z[0],w=Z[1],O=(0,o.useState)(null),S=O[0],P=O[1],I=n.language,x=function(e){var t=Q.find((function(t){return t.shade===e}));void 0!==t&&w(t)},j=function(e){w(e)};return(0,r.tZ)(c.Z,{title:t("calculator"),children:(0,r.BX)(s.ZP,{container:!0,justifyContent:"center",spacing:4,children:[(0,r.BX)(s.ZP,{item:!0,xs:12,md:10,lg:8,children:[(0,r.tZ)(g.Z,{options:Q,groupBy:function(e){return(0,p.Iu)("shade",K[e.shade].shade,I)},getOptionLabel:function(e){return(0,C.Z)(I,e,"name")},renderInput:function(e){return(0,r.tZ)(h.Z,V({},e,{variant:"filled",label:t("currentStain")}))},value:l,onChange:function(e,t){null!==t&&u(t)}}),(0,r.tZ)(d.Z,{textAlign:"center",m:1,children:(0,r.tZ)(m.Z,{})}),(0,r.tZ)(g.Z,{options:Q,groupBy:function(e){return(0,p.Iu)("shade",K[e.shade].shade,I)},getOptionLabel:function(e){return(0,C.Z)(I,e,"name")},renderInput:function(e){return(0,r.tZ)(h.Z,V({},e,{variant:"filled",label:t("targetStain")}))},value:b,onChange:function(e,t){null!==t&&w(t)}}),(0,r.BX)(d.Z,{my:2,children:[Object.entries(K).sort((function(e,t){return Number(e[0])-Number(t[0])})).map((function(e){var t=J(e,2),n=t[0],o=t[1];return(0,r.tZ)(v,{shade:o.shade,color:o.color,selected:b.shade===Number(n),onClick:x.bind(null,Number(n))},n)})),(0,r.tZ)("br",{}),Q.filter((function(e){return e.shade===b.shade})).map((function(e){return(0,r.tZ)(y.Z,{stain:e,selected:b.id===e.id,onClick:j.bind(null,e)},e.id)}))]}),(0,r.tZ)(d.Z,{my:4,textAlign:"center",children:(0,r.tZ)(M,{color:b.color})}),(0,r.tZ)(f.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var e=(0,p.uX)(l,b);P({fromStain:l,toStain:b,fruits:e.fruits,resultantColor:e.color})},children:t("calculate")})]}),null!==S&&(0,r.tZ)(A,{solution:S})]})})},te=!0,ne=function(){var e=(0,i.$G)("chocobo-color").t;return(0,r.BX)(l.Z,{title:e("_title"),description:e("_description"),children:[(0,r.BX)(c.Z,{children:[(0,r.tZ)(a.Z,{paragraph:!0,children:"This calculator works by getting your chocobo\u2019s color as close to the desired color as possible. In rare cases, this may still result in a different, nearby color to be chosen. Your chocobo\u2019s true color values may also slightly differ from the possible colors, leading to inaccuracies. Feeding fruits in an order other than what is recommended may also cause color values to cap out, resulting in a different color."}),(0,r.BX)(a.Z,{paragraph:!0,children:["Sometimes things go wrong, and you should use a Han Lemon to reset and start over. See the ",(0,r.tZ)(u.C,{href:"/chocobo-color/about",children:"About page"})," for an in-depth explanation of the algorithm."]})]}),(0,r.tZ)(ee,{})]})}}},function(e){e.O(0,[962,903,27,855,915,617,774,888,179],(function(){return t=7816,e(e.s=t);var t}));var t=e.O();_N_E=t}]);